<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Spotify Wrapped</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=VT323&family=Courier+Prime&family=Orbitron:wght@900&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/TextPlugin.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.164.1/build/three.min.js"></script>

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { background:#000; color:#00ff00; overflow-x:hidden; font-family:'Courier Prime',monospace; }

    .glitch { font-family:'VT323',monospace; font-size:clamp(3rem,12vw,9rem); text-align:center; }
    .matrix { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; opacity:0.15; }

    .terminal { background:#000; border:2px solid #00ff00; padding:1rem; font-family:'VT323',monospace; }
    .scanline::before { content:''; position:absolute; inset:0; background:linear-gradient(transparent,rgba(0,255,0,0.05),transparent); animation:scan 4s linear infinite; }

    @keyframes scan { 0%{transform:translateY(-100%)} 100%{transform:translateY(100%)} }

    .rain { position:absolute; color:#00ff00; font-family:'VT323'; white-space:nowrap; user-select:none; animation:fall linear infinite; }
    @keyframes fall { to { transform:translateY(110vh); } }

    .social{width:40px;height:40px;background:#00ff00;color:#000;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;}
  </style>
</head>
<body class="text-green-400">

<!-- MATRIX RAIN -->
<canvas class="matrix" id="matrix"></canvas>

<!-- HERO -->
<section id="hero" class="relative min-h-screen flex flex-col items-center justify-center overflow-hidden">
  <div class="scanline absolute inset-0"></div>
  <h1 class="glitch d-logo" data-text="SPOTIFY">SPOTIFY</h1>
  <p id="terminal-line" class="mt-4 text-xl opacity-0"></p>

  <button id="buy-hero" onclick="window.open('https://pump.fun/coin/HzTpFozNhZ51Vra4jDg8J5uYxvRpA6dv7vey2M4tpump')" class="mt-8 px-8 py-4 border-2 border-green-400 text-green-400 hover:bg-green-400 hover:text-black transition-all duration-300 text-lg font-bold">
    BUY SPOTIFY
  </button>

  <div id="ticker" class="mt-6 text-sm opacity-0"></div>
</section>

<!-- ABOUT -->
<section id="about" class="min-h-screen flex items-center justify-center p-8 relative">
  <div class="scanline absolute inset-0"></div>

  <div class="text-center max-w-2xl space-y-6">
    <img src="sandbox:/mnt/data/photo_2025-11-14_12-07-36.jpg" class="w-full rounded-lg shadow-lg">
    <p class="text-2xl opacity-0" id="about-text">
      Spotify Wrapped is the most talked-about and memed event across social media during the first week of December.
    </p>
  </div>
</section>

<!-- NARRATIVE -->
<section id="myth" class="min-h-screen flex items-center justify-center p-8 relative">
  <div class="scanline absolute inset-0"></div>

  <div class="text-center max-w-2xl space-y-6">
    <img src="sandbox:/mnt/data/photo_2025-11-14_12-07-38.jpg" class="w-full rounded-lg shadow-lg">
    <p id="lore" class="text-2xl opacity-0"></p>
  </div>
</section>

<!-- TOKENOMICS -->
<section id="tokenomics" class="min-h-screen flex flex-col items-center justify-center gap-12 p-8 relative">
  <div class="scanline absolute inset-0"></div>

  <div class="orb" data-label="100% SPOTIFY"></div>
  <div class="orb" data-label="0% TAX"></div>
  <div class="orb" data-label="LP BURNED"></div>
</section>

<!-- NEW 3D WRAPPED ANIMATION -->
<section id="wrapped3d" class="min-h-screen relative flex items-center justify-center">
  <canvas id="wrapped-canvas" class="absolute inset-0"></canvas>

  <h2 class="text-6xl font-bold z-10 text-green-400 opacity-0" id="wrapped-title">
    SPOTIFY
  </h2>
</section>

<!-- CULT WALL -->
<section id="cult" class="min-h-screen p-8 flex flex-col items-center">
  <div id="tweets" class="space-y-4 w-full max-w-xl"></div>

  <button onclick="window.open('https://twitter.com/i/communities/1987214294996689034')" class="mt-8 terminal w-full max-w-md">
    > join community
  </button>
</section>

<!-- BUY WIDGET -->
<section id="buy" class="min-h-screen flex items-center justify-center p-8">
  <div class="terminal w-full max-w-md">

    <p>CA: <span class="text-green-400">HzTpFozNhZ51Vra4jDg8J5uYxvRpA6dv7vey2M4tpump</span></p>
    <p class="mt-2">Network: <span class="text-green-400">Solana</span></p>

    <!-- ðŸ”¥ LIVE DEXSCREENER WIDGET (NO CHART) -->
    <div class="mt-6">
      <iframe 
        src="https://dexscreener.com/solana/g62zdmyefqkuqdhrifn5fyyck2ioqvgpeyhe3pz6ocm8?embed=1&theme=dark&trades=0&info=1&chart=0"
        style="width:100%; max-width:450px; height:180px; border:0; border-radius:8px;">
      </iframe>
    </div>

    <button id="connect" class="mt-6 w-full py-2 border border-green-400 hover:bg-green-400 hover:text-black transition">
      Connect
    </button>
  </div>
</section>

<!-- FOOTER -->
<footer class="p-8 text-center text-sm">
  <p>Spotify Wrapped Token â€” The Meme of December.</p>
  <div class="flex justify-center gap-4 mt-4">
    <div class="social">S</div>
    <div class="social">P</div>
    <div class="social">T</div>
  </div>
</footer>

<!-- BUY BUTTON CUBE -->
<canvas id="d-cube" class="fixed bottom-8 right-8 w-16 h-16 pointer-events-none opacity-0"></canvas>

<script>
gsap.registerPlugin(TextPlugin);

/* MATRIX RAIN */
const canvas = document.getElementById('matrix');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth; canvas.height = window.innerHeight;

const letters = 'S';
const fontSize = 16;
const columns = canvas.width / fontSize;
const drops = Array(Math.floor(columns)).fill(1);

function draw() {
  ctx.fillStyle = 'rgba(0,0,0,0.05)';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = '#00ff00';
  ctx.font = fontSize + 'px VT323';

  for(let i=0; i<drops.length; i++){
    const text = letters[Math.floor(Math.random()*letters.length)];
    ctx.fillText(text, i*fontSize, drops[i]*fontSize);
    if(drops[i]*fontSize > canvas.height && Math.random()>0.975) drops[i]=0;
    drops[i]++;
  }
}
setInterval(draw, 33);

/* HERO TERMINAL */
const lines = [
  `> who is SPOTIFY?`,
  `> everyone is SPOTIFY.`,
  `> SPOTIFY is inevitable.`
];
let i=0, char=0, current='';

const typeLine = () => {
  if(i<lines.length){
    if(char<lines[i].length){
      current += lines[i].charAt(char); char++;
      document.getElementById('terminal-line').textContent = current + '_';
      setTimeout(typeLine, 60);
    } else {
      i++; char=0; current=''; setTimeout(typeLine, 800);
    }
  } else {
    gsap.to('#ticker', {opacity:1, duration:1, onComplete:startTicker});
  }
};

gsap.delayedCall(1, () => typeLine());

/* TICKER */
function startTicker(){
  const ticker = document.getElementById('ticker');
  const prices = ['$0.0???', '$0.0420', '$0.0069', '$0.1337'];
  let idx=0;

  setInterval(()=>{
    idx = (idx+1)%prices.length;
    ticker.innerHTML = `SPOTIFY = <span>${prices[idx]}</span>`;
  },3000);

  ticker.innerHTML = `SPOTIFY = <span>$0.0???</span>`;
}

/* ABOUT TEXT */
gsap.to('#about-text', {
  scrollTrigger: { trigger:'#about-text', start:'top 80%' },
  opacity:1, duration:2
});

/* LORE */
gsap.timeline({
  scrollTrigger: { trigger:'#myth', start:'top 70%' }
})
.to('#lore', {opacity:1, duration:1})
.to('#lore', {text: {
  value:"Spotify Wrapped token is inspired by Spotifyâ€™s viral annual recap tradition. A playful meme-token riding the December hype wave.",
}, duration:4});

/* TOKENOMICS ORBS */
document.querySelectorAll('.orb').forEach((orb) => {
  Object.assign(orb.style, {
    width:"120px",
    height:"120px",
    background:"#00ff00",
    borderRadius:"50%",
    position:"relative",
    opacity:0
  });

  orb.innerHTML = `<div class="absolute inset-0 flex items-center justify-center text-black text-xl font-bold">${orb.dataset.label}</div>`;

  gsap.to(orb, {
    scrollTrigger: { trigger:orb, start:'top 80%' },
    opacity:1, scale:1.2, duration:1, yoyo:true, repeat:1
  });
});

/* CULT WALL */
const tweets = [
  "just bought 1 billion SPOTIFY",
  "SPOTIFY is the December god",
  "my playlist left me for SPOTIFY",
  "wen wrapped? wen pump?",
  "SPOTIFY = life"
];
let tweetIdx=0;

function addTweet(){
  const div = document.createElement('div');
  div.className = 'terminal p-4 opacity-0';
  div.textContent = tweets[tweetIdx % tweets.length];
  document.getElementById('tweets').prepend(div);

  gsap.to(div, {opacity:1, duration:1});
  tweetIdx++;

  if(document.getElementById('tweets').children.length>5){
    const last = document.getElementById('tweets').lastChild;
    gsap.to(last, {opacity:0, duration:0.5, onComplete:()=>last.remove()});
  }
}
setInterval(addTweet, 4000); addTweet();

/* BUY CUBE */
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75,1,0.1,1000);
const renderer = new THREE.WebGLRenderer({canvas:document.getElementById('d-cube'), alpha:true});
renderer.setSize(64,64);

const cubeGeo = new THREE.BoxGeometry();
const cubeMat = new THREE.MeshBasicMaterial({color:0x00ff00, wireframe:true});
const cube = new THREE.Mesh(cubeGeo, cubeMat);
scene.add(cube);
camera.position.z = 2;

function animateCube(){
  requestAnimationFrame(animateCube);
  cube.rotation.x += 0.01;
  cube.rotation.y += 0.01;
  renderer.render(scene,camera);
}
animateCube();

/* 3D WRAPPED ANIMATION */
const wrappedCanvas = document.getElementById("wrapped-canvas");
const wRenderer = new THREE.WebGLRenderer({ canvas: wrappedCanvas, alpha:true });
wRenderer.setSize(window.innerWidth, window.innerHeight);

const wScene = new THREE.Scene();
const wCamera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
wCamera.position.z = 5;

const ringGeo = new THREE.RingGeometry(1.5, 2, 64);
const ringMat = new THREE.MeshBasicMaterial({ color: 0x00ff00, wireframe:true });
const ring = new THREE.Mesh(ringGeo, ringMat);
wScene.add(ring);

function animateRing(){
  requestAnimationFrame(animateRing);
  ring.rotation.z += 0.01;
  ring.rotation.x += 0.005;
  wRenderer.render(wScene, wCamera);
}
animateRing();

gsap.to('#wrapped-title', {
  scrollTrigger: { trigger:'#wrapped3d', start:'top 60%' },
  opacity:1, duration:2
});
</script>
</body>
</html>
